[defaults]
# Disable host key checking (can be problematic in automated environments)
host_key_checking = False

# SSH timeout settings
timeout = 30
connect_timeout = 30

# Retry settings
connect_retry_timeout = 60

# Don't create retry files
retry_files_enabled = False

# Pipelining improves performance
pipelining = True

# Increase verbosity for debugging (can be overridden with -v)
# verbosity = 0

# Inventory
inventory = /install/usr_home/*/config.yml

# Logs
log_path = /install/logs/ansible.log

[ssh_connection]
# DISA STIG compatible SSH settings for RHEL 9
# These are the approved algorithms for hardened systems

# Base SSH arguments
ssh_args = -o ConnectTimeout=30 -o ConnectionAttempts=3 -o ControlMaster=auto -o ControlPersist=60s

# STIG-approved key exchange algorithms
ssh_args = %(ssh_args)s -o KexAlgorithms=ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521,diffie-hellman-group-exchange-sha256

# STIG-approved ciphers
ssh_args = %(ssh_args)s -o Ciphers=aes128-ctr,aes192-ctr,aes256-ctr,aes128-gcm@openssh.com,aes256-gcm@openssh.com

# STIG-approved MACs
ssh_args = %(ssh_args)s -o MACs=hmac-sha2-256,hmac-sha2-512,hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com

# STIG-approved host key algorithms  
ssh_args = %(ssh_args)s -o HostKeyAlgorithms=ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,rsa-sha2-256,rsa-sha2-512

# Disable strict host key checking and accept new keys
ssh_args = %(ssh_args)s -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null

# Transfer method (smart is usually best)
transfer_method = smart

# SCP if available (more compatible with hardened systems)
scp_if_ssh = True

# Pipelining (improves performance)
pipelining = True

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False