NOTE: clear screen at the start (or run in tmux session?)

BREAKS: Lost connection during mgmt-kvm-bootstrap, was able to get back in a session
  and attach to onboarder. (may not see anything but just wait)

NOTE: Add Pre and Post prep, This can be maybe making sure the host doesnt time out
    also post could remove things like the sudo files? will need to be everytime
    because the sudo file may be needed. Or do a 1 time call?

BREAKS: Couldnt connect to nodes during configure nodes step. Left and came back and then worked?

BREAKS: Cant get the nodes to look at the kratos repo server
    rke2-selinux fails because of this as well

NOTE: Make a step in the beginning that will generate all the files that I will need
    for all the steps

SECURITY: was given PASSWORD in the clear in log:

        ======================================================================
        STEP 8/20: Deploy OPNsense
        ======================================================================
        Target: ['mgmt_kvm']
        Timeout: 1800s

        Running: sshpass -p kratos ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ConnectTimeout=30 -tt kratos@10.243.77.212 sudo bash /var/lib/libvirt/config/vm_config/opnsense/opnsense_install.sh

NOTE: Need to make onboarder changes persistent

BREAKS: Need to add the cilium encryption false step into onboarder prep

NOTE: Mount the env directory to the /docker-workspace/config directory. Then have the container running all the time.
    I just go inside when I want to do something, Or have a script outside that will call the commands I need (like the onboarder-run)
    I am getting tired of things not working and being forced to do weird things to get in the container. Just should leave it running

NOTE: Maybe import onboarder prep into each make step or something?

BREAK: Kratos DNS didnt allow the onboarder node to resolv Harbor
    It inherited from the mgmt-kvm. Needed 192.168.2.1 What should it be?
    Should I have both, should I edit /etc/resolv inside container?
        Lets do edit in container. That way with 1 host I can configure the onboarder
        to be whatever I need it to be. My host stays on Kratos

NOTE: Should add some curls after harbor, rancher, etc to verify its reachability

NOTE: Should add a command to print /etc/hosts? maybe?

NOTE: ADD THIS from onboarder!!!
    kubectl patch settings.management.cattle.io auth-token-max-ttl-minutes --type merge -p '{"default":"5259600"}'
    kubectl patch settings.management.cattle.io kubeconfig-default-token-ttl-minutes --type merge -p '{"default":"5259600"}'

NOTE: ADD all vars to group_vars/all.yml (or deployment.yml)

NOTE: Prep_onboarder step should run everytime to ensure that the container is going to run correctly for the required deployment








BREAKS: Check server requirements / give a requirements.txt that labels minimum drive sizes
    (this clears up the export)
    May just add the export TMPDIR=/var for now


#BREAKS: During the rke2 make deployment, VM size isnt correct right now.
#    Needs to be resized. Add a pause before the start of that step to configure that?
#    Have a playbook that will do that for me?

#BREAKS: Think I need to fix the ENV being <env>/generated_files. Probably
#    can mount generated files in the container without 2 directories (just env name)
#    Maybe take all variables out and call it 1 thing only (dir inside container)