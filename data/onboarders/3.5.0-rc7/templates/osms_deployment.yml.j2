# ==============================================================================
# OpenSpace Management System Deployment - GENERATED FILE
# ==============================================================================
# Generated: {{ ansible_date_time.iso8601 }}
# ==============================================================================

apiVersion: openspace.kratos.us/v1alpha2
kind: OpenspaceManagementSystem
metadata:
  name: {{ osms_cluster_name }}
  namespace: openspace-system
spec:
  k8sDistro: v1.27.13+rke2r1
  type: ssh
  vipAddress: {{ vips.osms }}
  vipDNS: osms.{{ domain_name }}
  sshSpecs:
    sshServers:
{% for node in osms_nodes %}
    - name: {{ node.name }}
      ipAddress: {{ node.mgmt_ip }}
      secretRef:
        name: osms-ssh
        namespace: openspace-system
{% endfor %}
