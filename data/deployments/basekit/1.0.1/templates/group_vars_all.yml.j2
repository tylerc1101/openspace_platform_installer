# ==============================================================================
# Global Variables - GENERATED FILE
# ==============================================================================
# ⚠️  DO NOT EDIT THIS FILE MANUALLY
# 
# This file is GENERATED from: deployment.yml
# To make changes:
#   1. Edit deployment.yml
#   2. Run: task prep-config
#   3. This file will be regenerated
# 
# Generated: {{ ansible_date_time.iso8601 }}
# ==============================================================================

# ==============================================================================
# Deployment Information
# ==============================================================================
deployment_name: "{{ deployment.name }}"
deployment_type: "{{ deployment.type }}"
deployment_version: "{{ deployment.version }}"
onboarder_version: "{{ deployment.onboarder_version }}"
osms_tooling_version: "{{ deployment.osms_tooling_version }}"

# ==============================================================================
# Domain Configuration
# ==============================================================================
domain_name: "{{ domain.base }}"
base_domain: "{{ domain.base }}"

# ==============================================================================
# Network Configuration
# ==============================================================================

# Customer Network (WAN)
customer_gateway: "{{ networks.customer.gateway }}"
customer_cidr: "{{ networks.customer.cidr }}"
customer_dns_servers: {{ networks.customer.dns_servers | to_json }}

# Management Network
mgmt_network: "{{ networks.management.network }}"
mgmt_cidr: "{{ networks.management.cidr }}"
mgmt_gateway: "{{ networks.management.gateway }}"
mgmt_dns_servers: {{ networks.management.dns_servers | to_json }}

# iDRAC Network
idrac_network: "{{ networks.idrac.network }}"
idrac_cidr: "{{ networks.idrac.cidr }}"
idrac_gateway: "{{ networks.idrac.gateway }}"

# ==============================================================================
# NTP Configuration
# ==============================================================================
ntp_server: "{{ ntp.server }}"
ntp_timezone: "{{ ntp.timezone }}"

# ==============================================================================
# Virtual IP Addresses
# ==============================================================================
{% if vips is defined %}
# OSDC Cluster VIPs
vip_osdc: "{{ vips.osdc | default('') }}"
vip_api_osdc: "{{ vips.api_osdc | default('') }}"

# OSMS Cluster VIPs
vip_osms: "{{ vips.osms | default('') }}"
vip_api_osms: "{{ vips.api_osms | default('') }}"

# MCM Cluster VIPs
vip_api_mcm: "{{ vips.api_mcm | default('') }}"
vip_mcm_wildcard: "{{ vips.mcm_wildcard | default('') }}"
{% endif %}

# ==============================================================================
# Storage Configuration
# ==============================================================================
{% if storage is defined %}
{% if storage.nfs is defined %}
# NFS Storage
nfs_enabled: {{ storage.nfs.enabled | default(false) | lower }}
{% if storage.nfs.enabled | default(false) %}
nfs_server: "{{ storage.nfs.server }}"
nfs_path: "{{ storage.nfs.path }}"
{% endif %}
{% endif %}
{% endif %}

# ==============================================================================
# Ansible Configuration
# ==============================================================================
ansible_python_interpreter: /usr/bin/python3

# SSH Configuration
ansible_ssh_common_args: '-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
