---
# OpenSpace Platform Configuration
# This file contains all deployment variables
# Run 'task prep' to generate Ansible inventory from this config

# ==============================================================================
# DEPLOYMENT METADATA
# ==============================================================================
deployment:
  name: "onboarder_server"
  deployment_type: "basekit"
  deployment_version: "1.0.1"
  onboarder_version: "3.5.0-rc7"
  osms_tooling_version: "1.8.x"

# ==============================================================================
# SSH CONFIGURATION
# ==============================================================================
ssh:
  user: "kratos"

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================
networks:
  # Customer/WAN Network (External)
  customer:
    gateway: "10.243.76.1"
    cidr: "/23"
    dns_servers:
      - "10.243.25.50"
      - "10.243.25.53"

# ==============================================================================
# DOMAIN CONFIGURATION
# ==============================================================================
domain:
  base: "test.integration.kratos"

# ==============================================================================
# NTP CONFIGURATION
# ==============================================================================
ntp:
  server: "192.168.2.100"
  timezone: "Etc/UTC"

# ==============================================================================
# INFRASTRUCTURE HOSTS
# ==============================================================================
infrastructure:
  # Management Hypervisor
  mgmt_kvm:
    wan_ip: "10.243.76.35"
    wan_interface: "eno1"
  
  # OPNsense Firewall
  opnsense:
    wan_ip: "10.243.77.227"

# ==============================================================================
# CLUSTER NODES
# ==============================================================================
# MCM - Infrastructure/Management Cluster
management_cluster:
  clusters:
    - cluster_name: "local"
      ssh_key: "mcm_ssh_key"
      nodes:
        - name: "mcm1"
          mgmt_ip: "10.243.77.228"
          mgmt_interface: "enp1s0"
          roles: ["controlplane", "etcd", "worker"]
  
# OSMS - OpenSpace Management System
openspace_management_system:
  clusters:
    - cluster_name: "openspace-osms"
      ssh_key: "osms_ssh_key"
      nodes:
        - name: "osms1"
          mgmt_ip: "10.243.77.229"
          mgmt_interface: "enp1s0"
          roles: ["controlplane", "etcd", "worker"]